# .bashrc

# Source global definitions
if [[ -f /etc/bashrc ]]; then
    source /etc/bashrc
fi

# For the love of god, no Ctrl+S, Ctrl+Q
stty -ixon -ixoff

# Set the prompt
if [[ -f ~/.bash_prompt ]]; then
    if [[ -n $TOOLBOX_PATH ]]; then
        export PS1_THEME='green'
    else
        export PS1_THEME='blue'
    fi

    source ~/.bash_prompt
fi

# User specific aliases and functions
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias mkdir='mkdir -p'
alias ls='ls --color=auto --classify --human-readable --group-directories-first'
alias ll='ls -l'
alias la='ll --almost-all'
alias k='kubectl'

[[ -x $(command -v vimx) ]] && alias vim='vimx'

[[ -z $TOOLBOX_PATH ]] && alias te='toolbox enter'

# Fuzzy finder keyboard shortcuts (line added by install hook)
[ -f ~/.fzf.bash ] && source ~/.fzf.bash

# Flux command completion
[[ -x $(command -v flux) ]] && source <(flux completion bash)

# Homebrew environment for toolbox
if [[ -x /home/linuxbrew/.linuxbrew/bin/brew ]]; then
    eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

    if [[ -r "/home/linuxbrew/.linuxbrew/etc/profile.d/bash_completion.sh" ]]; then
        source "/home/linuxbrew/.linuxbrew/etc/profile.d/bash_completion.sh"
    fi
fi
