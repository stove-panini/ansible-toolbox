# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

# User specific environment
if ! [[ "$PATH" =~ $HOME/.local/bin:$HOME/bin: ]]; then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi
export PATH

# For the love of god, no Ctrl+S, Ctrl+Q
stty -ixon -ixoff

[[ -n $TOOLBOX_PATH ]] && export PROMPT_THEME='green'
[[ -f ~/.bash_prompt ]] && . ~/.bash_prompt

# User specific aliases and functions
alias cp='cp -i'
alias mv='mv -i'
alias ls='ls --color=auto --classify --human-readable --group-directories-first'
alias ll='ls -l'
alias la='ll --almost-all'
alias k='kubectl'

[[ -x $(command -v vimx) ]] && alias vim='vimx'

[[ -z $TOOLBOX_PATH ]] && alias te='toolbox enter'

# Fuzzy finder keyboard shortcuts (line added by install hook)
[ -f ~/.fzf.bash ] && source ~/.fzf.bash

# Flux command completion
[[ -x $(command -v flux) ]] && . <(flux completion bash)

# Homebrew environment for toolbox
if [[ -x /home/linuxbrew/.linuxbrew/bin/brew ]]; then
    eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

    if [[ -r "/home/linuxbrew/.linuxbrew/etc/profile.d/bash_completion.sh" ]]; then
        . "/home/linuxbrew/.linuxbrew/etc/profile.d/bash_completion.sh"
    fi
fi
